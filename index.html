<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>CSV Paste Viewer</title>
<style>
    body { font-family: Arial,sans-serif; background:#f7f7f7; padding:20px; }
    h2 { text-align:center; }
    textarea { width:100%; height:200px; font-family: monospace; font-size:14px; padding:10px; }
    button { padding:10px 15px; margin:10px 0; cursor:pointer; }
    .table-container { width:100%; overflow-x:auto; margin-top:20px; }
    table { border-collapse: collapse; width:100%; background:white; }
    th, td { border:1px solid #333; padding:8px; text-align:left; font-size:14px; }
    th { background:#222; color:white; position:sticky; top:0; }
    tr:nth-child(even) { background:#f2f2f2; }
</style>
</head>
<body>

<h2>Paste Your CSV Here ðŸš€</h2>

<textarea id="csvInput" placeholder="à¤¯à¤¹à¤¾à¤ à¤…à¤ªà¤¨à¥€ CSV à¤ªà¥‡à¤¸à¥à¤Ÿ à¤•à¤°à¥‡à¤‚"></textarea>
<button onclick="generateTable()">View CSV</button>

<div class="table-container">
    <table id="csvTable"></table>
</div>

<script>
function generateTable(){
    let csvText = document.getElementById("csvInput").value;
    if(!csvText.trim()){
        alert("à¤•à¥ƒà¤ªà¤¯à¤¾ CSV text à¤ªà¥‡à¤¸à¥à¤Ÿ à¤•à¤°à¥‡à¤‚");
        return;
    }

    csvText = csvText.replace(/\r/g,""); // Windows line endings remove
    let rows = csvText.split("\n").filter(r => r.trim() !== "");
    let table = document.getElementById("csvTable");
    table.innerHTML = "";

    rows.forEach((row,index)=>{
        let tr = document.createElement("tr");
        let cols = parseCSVRow(row);
        cols.forEach(col=>{
            let cell = document.createElement(index===0?"th":"td");
            cell.textContent = col.trim();
            tr.appendChild(cell);
        });
        table.appendChild(tr);
    });
}

function parseCSVRow(row){
    let result = [];
    let col = "";
    let inQuotes = false;

    for(let i=0;i<row.length;i++){
        let char = row[i];

        if(char=='"'){
            if(row[i+1]=='"'){ // double quote inside quotes
                col+='"';
                i++;
            } else {
                inQuotes = !inQuotes;
            }
        }
        else if(char==',' && !inQuotes){
            result.push(col);
            col="";
        }
        else{
            col+=char;
        }
    }
    result.push(col);
    return result;
}
</script>

</body>
</html>
